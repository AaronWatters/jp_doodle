<!DOCTYPE html>
<html>
<head>
    <title>Rectangles -- jp_doodle demo</title>
    <link rel="icon" type="image/png" href="images/clock.png">
    <link rel=stylesheet href="static/style.css">

    <link rel="stylesheet" href="jquery-ui-1.12.1/jquery-ui.css">
    <script src="jquery-ui-1.12.1/external/jquery/jquery.js"></script>
    <script src="jquery-ui-1.12.1/jquery-ui.js"></script>

    <link rel="stylesheet" href="codemirrorjs/codemirror.css">
    <script src="codemirrorjs/codemirror.js"></script>
    <script src="codemirrorjs/matchbrackets.js"></script>
    <script src="codemirrorjs/continuecomment.js"></script>
    <script src="codemirrorjs/comment.js"></script>
    <script src="codemirrorjs/javascript.js"></script>
    <style type="text/css">.CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}</style>
    <script src="jp_doodle_js/canvas_2d_widget_helper.js"></script>
    <script src="jp_doodle_js/dual_canvas_helper.js"></script>
    <script src="jp_doodle_js/rectangle_collection.js"></script>
    <script src="jp_doodle_js/array_explorer.js"></script>
    <script src="jp_doodle_js/canvas_2d_vector_field.js"></script>
    <script src="jp_doodle_js/nd_frame.js"></script>
    <script src="jp_doodle_js/nd_scatter.js"></script>

    <script>
        $( function() {
          $( "#discussion" ).accordion({collapsible : true, active : 'none'});
          $( "#code_text" ).accordion({collapsible : true, active : 'none'});
        } );
    </script>
</head>

<body>
<div class="top_menu">
<div style="display: grid; margin: 10px; grid-template-columns:  125px 125px 125px 125px 125px 125px 125px 125px 125px 125px">
<div><a href="index.html"><div> Drawing </div><div> <img src="images/drawing.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="010_events.html"><div> Events </div><div> <img src="images/events.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="020_bindings.html"><div> Bindings </div><div> <img src="images/bindings.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="030_animation.html"><div> Animation </div><div> <img src="images/clock.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="040_lasso.html"><div> Lasso </div><div> <img src="images/lasso.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="050_rectangles.html"><div> Rectangles </div><div> <img src="images/rectangle.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="060_chart.html"><div> Chart </div><div> <img src="images/chart.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="070_images.html"><div> Images </div><div> <img src="images/Images.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="080_transitions.html"><div> Transitions </div><div> <img src="images/Transitions.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="090_frames.html"><div> Frames </div><div> <img src="images/Frame.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="095_nd_frames.html"><div> N-Dimensional Frames </div><div> <img src="images/nd_frame.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="110_nd_scatter.html"><div> N-Dimensional Scatter Plot </div><div> <img src="images/nd_scatter.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="array_explorer.html"><div> Array explorer </div><div> <img src="images/ArrayChooser.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="color_chooser.html"><div> Color chooser </div><div> <img src="images/color_chooser.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="opacity.html"><div> Opacity Sliders </div><div> <img src="images/opacity.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="polygon.html"><div> Edit polygon </div><div> <img src="images/edit_poly.png" style="background-color:#cdf" width="50px"/> </div></a></div>
<div><a href="vector_field.html"><div> Vector Field </div><div> <img src="images/vector_field.png" style="background-color:#cdf" width="50px"/> </div></a></div>
</div>
</div>

<p><em>
    This is an example page for the 
    <code><a href="https://github.com/AaronWatters/jp_doodle">jp_doodle</a></em></code>
    package. <br>

    <p><b><code><a href="https://github.com/AaronWatters/jp_doodle">jp_doodle</a></em></code>
        makes implementing special purpose interactive visualizations easy.</b></p>

    Please see the Jupyter notebooks in the package for additional
    discussion and documentation. <br>

    Please use 
    <a href="https://mybinder.org/v2/gh/AaronWatters/jp_doodle/master">Binder</a>
    to easily run the Jupyter notebooks of the package.
</em></p>

<h1>Rectangles</h1>
<div>
    <p>
The <code>rectangle_collection.js</code> plugin provides
an experimental implementation of a two category bar chart.
This proof of concept is useful as an example of a complex
component built using <code>jp_doodle</code>.
</p>
<p>
Click "person type" or "State" to start and stop adjusting the
layout of the barchart.  Mouse over the rectangles and other labels
for detail information.
</p>
</div>

<div id="target_container">
    <div id="target_div"/>
</div>

<script>
    var element = $('#target_div');
    //$('<img src="http://sipi.usc.edu/database/preview/misc/4.2.03.png">').appendTo(element);
    var bar_config = {
    u: {x:-1, y:0},
    v: {x:0.8, y:0.3},
    x: 20,
    y: 280,
    u_label: "person type",
    u_anchors: "men women children".split(" "),
    v_label: "State",
    v_anchors: "Pennsylvania New_Jersey New_York Delaware".split(" "),
    max_vertical: 200,
    max_depth: 200,
    max_width: 50,
    labels_position: {x: 150, y: 250},
};
var rectangles = [];
for (var i=0; i<bar_config.u_anchors.length; i++) {
    u_anchor = bar_config.u_anchors[i];
    for (var j=0; j<bar_config.v_anchors.length; j++) {
        var v_anchor = bar_config.v_anchors[j];
        var height = (Math.sin(i+j)+1) * 50;
        var rectangle = {
            u_anchor: u_anchor,
            v_anchor: v_anchor,
            height: height,
        }
        rectangles.push(rectangle);
    }
}
bar_config.bars = rectangles;
element.empty();
var canvas_config = {
    width: 800,
    height: 600,
    //translate_scale: {x: x, y:y, w:w, h:h},
};
element.dual_canvas_helper(canvas_config);
element.rectangle_collection(bar_config);
element.draw_bars();
</script>

<div id="code_text">
        <h3>Code</h3>
    
        <div><textarea id="code" name="code">
var element = $('#target_div');
var bar_config = {
    u: {x:-1, y:0},
    v: {x:0.8, y:0.3},
    x: 20,
    y: 280,
    u_label: "person type",
    u_anchors: "men women children".split(" "),
    v_label: "State",
    v_anchors: "Pennsylvania New_Jersey New_York Delaware".split(" "),
    max_vertical: 200,
    max_depth: 200,
    max_width: 50,
    labels_position: {x: 150, y: 250},
};
var rectangles = [];
for (var i=0; i<bar_config.u_anchors.length; i++) {
    u_anchor = bar_config.u_anchors[i];
    for (var j=0; j<bar_config.v_anchors.length; j++) {
        var v_anchor = bar_config.v_anchors[j];
        var height = (Math.sin(i+j)+1) * 50;
        var rectangle = {
            u_anchor: u_anchor,
            v_anchor: v_anchor,
            height: height,
        }
        rectangles.push(rectangle);
    }
}
bar_config.bars = rectangles;
element.empty();
var canvas_config = {
    width: 800,
    height: 600,
    //translate_scale: {x: x, y:y, w:w, h:h},
};
element.dual_canvas_helper(canvas_config);
element.rectangle_collection(bar_config);
element.draw_bars();
        </textarea></div>
    
    </div>

<div id="discussion">
        <h3>Discussion</h3>
    
        <div>
            <p>
The `rectangles_collection` proof of concept implementation provides
an extended example of how to use dual canvases to build
more complex visualizations.  It includes mouse event handling,
object hiding, dynamic layout adjustment, and a floating dialog.
<p>
        </div>
    
    </div>
    
    <script>
            var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
              lineNumbers: true,
              matchBrackets: true,
              continueComments: "Enter",
              extraKeys: {"Ctrl-Q": "toggleComment"}
            });
     </script>
            
</body>
</html>